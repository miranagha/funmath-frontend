{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/funmath-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/user/Desktop/funmath-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/user/Desktop/funmath-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState}from'react';import{BrowserRouter as Router,Switch,Route,Link}from\"react-router-dom\";import{Form,Button,Container,Card,Col,Row}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{signin}from'./actions/auth';import logo from'./logo22.jpeg';import{useDispatch,connect}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),nickname=_useState2[0],setNickname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),logined=_useState6[0],setLogin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],seterror=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorS=_useState10[0],seterrorMessage=_useState10[1];var handlesubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();//  this.props.signin (this.state.nickname)\nconfig={headers:{\"X-Requested-With\":\"XMLHttpRequest\"}};if(!(nickname=='')){_context2.next=6;break;}seterror(true);seterrorMessage('Nickname is required');return _context2.abrupt(\"return\");case 6:if(!(password==='')){_context2.next=12;break;}seterror(true);seterrorMessage('Password is required');return _context2.abrupt(\"return\");case 12:seterror(false);seterrorMessage('');case 14:_context2.next=16;return axios.post('https://frozen-island-11321.herokuapp.com/https://testcccvd.herokuapp.com/login',{'nickname':nickname},config).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(response);if(response.statusText==='OK'){props.history.push('/home');}else if(response.status===201){seterror(true);seterrorMessage('No User with this nickname exits');}case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(e){seterror(true);seterrorMessage(e);console.log(e);});case 16:case\"end\":return _context2.stop();}}},_callee2);}));return function handlesubmit(_x){return _ref.apply(this,arguments);};}();var nicknamehandler=function nicknamehandler(event){setNickname(event.target.value);};var passwordhandler=function passwordhandler(event){setPassword(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"formcontainer modal-dialog-centered\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:logo,alt:\"logo\"})}),\"  \",/*#__PURE__*/_jsx(\"div\",{className:\"formarea rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(Form,{className:\"form\",onSubmit:handlesubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"align-items-center text-primary text-danger mb-3 p-3 text-center\",children:\"Login\"}),error?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorS}):/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-2\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nickname:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"jerry\",value:nickname,onChange:nicknamehandler})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-2\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:passwordhandler})]}),/*#__PURE__*/_jsx(Button,{className:\" mt-2 btn-block bg-danger w-100\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center m-sm-3\",children:[\"Create a new Account \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})]})]})})]});};export default Login;","map":{"version":3,"sources":["/Users/user/Desktop/funmath-frontend/src/Login.js"],"names":["React","Component","useState","BrowserRouter","Router","Switch","Route","Link","Form","Button","Container","Card","Col","Row","signin","logo","useDispatch","connect","axios","Login","props","nickname","setNickname","password","setPassword","logined","setLogin","error","seterror","errorS","seterrorMessage","handlesubmit","e","preventDefault","config","headers","post","then","response","console","log","statusText","history","push","status","catch","nicknamehandler","event","target","value","passwordhandler","color"],"mappings":"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","sourcesContent":["import React, { Component,useState } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport {Form, Button, Container, Card, Col, Row} from 'react-bootstrap'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './App.css'\r\nimport {signin} from './actions/auth'\r\nimport logo from './logo22.jpeg'\r\n\r\n\r\nimport {useDispatch,connect} from 'react-redux'\r\nimport axios from 'axios';\r\n\r\n  const Login=(props)=>{ \r\n\r\n    const [nickname,setNickname]=useState('')\r\n    const [password,setPassword]=useState('')\r\n    const [logined,setLogin]=useState(false)\r\n    \r\n    const [error,seterror]=useState(false)\r\n    \r\n    const [errorS,seterrorMessage]=useState('')\r\n   const handlesubmit=async(e)=>{\r\n        e.preventDefault();\r\n     //  this.props.signin (this.state.nickname)\r\n     const config = {\r\n        headers: {\r\n            \"X-Requested-With\": \"XMLHttpRequest\"\r\n        }\r\n      }\r\n      if(nickname ==''){\r\n        seterror(true)\r\n        seterrorMessage('Nickname is required')   \r\n        return  \r\n    }\r\n      if(password===''){\r\n            \r\n        seterror(true)\r\n        seterrorMessage('Password is required')     \r\n        return\r\n    }else{\r\n        \r\n        seterror(false)\r\n        seterrorMessage('')  \r\n    }\r\n    await axios.post('https://frozen-island-11321.herokuapp.com/https://testcccvd.herokuapp.com/login'\r\n     ,{\r\n        'nickname': nickname\r\n     }, config)\r\n\r\n     .then(async function(response) {\r\n         console.log(response)\r\n        if(response.statusText==='OK'){\r\n           \r\n    props.history.push('/home')\r\n    }\r\n        else if(response.status===201){\r\n            \r\n        seterror(true)\r\n        seterrorMessage('No User with this nickname exits') \r\n        }\r\n\r\n         \r\n\t}).catch(function(e){\r\n        \r\n        seterror(true)\r\n        seterrorMessage(e) \r\n\t \tconsole.log(e);\r\n\t});\r\n \r\n\t \t \r\n     \r\n     // this.props.history.push('/home') \r\n       }\r\n      const nicknamehandler = event =>{\r\n         setNickname( event.target.value)\r\n    }\r\n   const passwordhandler = (event) =>{\r\n    setPassword( event.target.value)\r\n    }  \r\n        return (\r\n            <div className=\"formcontainer modal-dialog-centered\">\r\n              \r\n              <div>\r\n                <img className=\"logo\" src={logo} alt=\"logo\"/>\r\n                </div>  <div className=\"formarea rounded-lg shadow-lg\">\r\n                \r\n                    <Form className=\"form\" onSubmit={handlesubmit}> \r\n                        <h3 className=\"align-items-center text-primary text-danger mb-3 p-3 text-center\">Login</h3>\r\n                      \r\n                        {\r\n                    error?<p style={{\r\n                        color:'red'\r\n                    }}>{errorS}</p>:<p></p>\r\n                    }\r\n                        <Form.Group className=\"mb-2\" controlId=\"formBasicEmail\">\r\n                            <Form.Label>Nickname:</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"jerry\" value={nickname} onChange={nicknamehandler} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mb-2\" controlId=\"formBasicPassword\">\r\n                            <Form.Label>Password:</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={passwordhandler}/>\r\n                        </Form.Group>\r\n                        \r\n                        <Button className=\" mt-2 btn-block bg-danger w-100\" type=\"submit\">\r\n                            Login\r\n                        </Button>\r\n                        <div className=\"text-center m-sm-3\">\r\n                            Create a new Account <Link to=\"/signup\">Sign up</Link>\r\n                            </div> \r\n                    </Form>\r\n                </div>\r\n          </div>\r\n        );\r\n    }\r\n\r\n\r\n \r\n\r\nexport default  Login;"]},"metadata":{},"sourceType":"module"}